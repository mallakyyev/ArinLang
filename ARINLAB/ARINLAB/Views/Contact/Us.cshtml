@using Microsoft.AspNetCore.Mvc.Localization
@using System.Globalization
@inject IViewLocalizer Localizer
@inject IHtmlLocalizer<SharedResource> SharedLocalizer
@inject IViewLocalizer localizer
@{
    ViewData["Title"] = SharedLocalizer["Contact Us"];
    string result = "-1";
    if (!string.IsNullOrEmpty(ViewBag.Result))
        result = ViewBag.Result;
}

<style>
    input[type=text], select, textarea {
        width: 100%; /* Full width */
        padding: 12px; /* Some padding */
        border: 1px solid #ccc; /* Gray border */
        border-radius: 4px; /* Rounded borders */
        box-sizing: border-box; /* Make sure that padding and width stays in place */
        margin-top: 6px; /* Add a top margin */
        margin-bottom: 16px; /* Bottom margin */
        resize: vertical /* Allow the user to vertically resize the textarea (not horizontally) */
    }

    input[type=email], select, textarea {
        width: 100%; /* Full width */
        padding: 12px; /* Some padding */
        border: 1px solid #ccc; /* Gray border */
        border-radius: 4px; /* Rounded borders */
        box-sizing: border-box; /* Make sure that padding and width stays in place */
        margin-top: 6px; /* Add a top margin */
        margin-bottom: 16px; /* Bottom margin */
        resize: vertical /* Allow the user to vertically resize the textarea (not horizontally) */
    }

    /* Style the submit button with a specific background color etc */
    input[type=submit] {
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

        /* When moving the mouse over the submit button, add a darker green color */
        input[type=submit]:hover {
            background-color: #45a049;
        }

    .modalll {
        display: none;
        position: fixed;
        z-index: 1;
        padding-top: 100px;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgb(0,0,0);
        background-color: rgba(0,0,0,0.4);
    }

    .modalll-content {
        background-color: #fefefe;
        margin: auto;
        padding: 20px;
        border: 1px solid #888;
        width: 60%;
        text-align: center;
    }

    .close {
        color: #aaaaaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

    /* Add a background color and some padding around the form */
</style>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<div class="container" style="margin-top: 2%; border-radius: 5px; background-color: #f2f2f2; padding: 20px; max-width: 1100px;">
    <h1 style="font-size: revert; text-align: center;">Contact Us</h1>
    <form asp-controller="Contact" asp-action="Us" method="post">
        <label for="Name"> @SharedLocalizer["Name"]</label>
        <input type="text" id="Name" name="name" placeholder='@SharedLocalizer["Your name"]..' required />
        <label for="Email">@SharedLocalizer["Email"]</label>
        <input type="email" id="fname" name="email" placeholder='@SharedLocalizer["Your email"]..' required />
        <label for="subject">@SharedLocalizer["Subject"]</label>
        <textarea id="subject" name="subject" placeholder='@SharedLocalizer["Write something"]..' required style="height:200px"></textarea>
        @if (result == "0")
        {
        <span style="color:red">@SharedLocalizer["ReCAPTCHA Error!!"]</span>
        }
        <div class="g-recaptcha" data-sitekey="6LdODTcfAAAAAJH_g_eZMNUWRiDwnoK3_vINS1gA"></div>
        <input type="submit" class="bg-primary" value="@SharedLocalizer["Submit"]">
    </form>
</div>



<div id="mySuccessModal" class="modalll">
    <div class="modalll-content">
        <h5 id="exampleModalLabel">@SharedLocalizer["Message from Aringlang"]</h5>
        <p>
            @SharedLocalizer["Thank your for your message. We will responce to your message in 24 hour."]
        </p>
        <button type="button" class="btn-primary" style="border-radius: 8px; padding: 10px;" asp-controller="Home" asp-action="Index">@SharedLocalizer["Go to Home page"]</button>
    </div>
</div>



@section Scripts{
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" /> -->
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> -->
    <script>
        // var res = '@ViewBag.Success';

        // if (res === '0') {
        //     $('#myErrorModal').modalll('toggle');
        // } else if (res === '1') {
        //     $('#mySuccessModal').modalll('toggle');
        // }


    var modalllerror = document.getElementById("myErrorModal");
    var modalll = document.getElementById("mySuccessModal");
    var span = document.getElementsByClassName("close")[0];
    var res = '@ViewBag.Success';

        @if (result == "1") {
                @:modalll.style.display = "block";
            }

            window.onclick = function(event) {
            if (event.target == modalll) {
            modalll.style.display = "none";
            modalllerror.style.display = "none";
        }
        }
    </script>
}