@model IEnumerable<DAL.Models.Dto.MenuModelDTO.MenuDTO>
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@inject IHtmlLocalizer<SharedResource> SharedLocalizer
@using System.Globalization 
@using ARINLAB.Services
@inject LogoService _logoSevice;
   @{ 
       var logos = _logoSevice.GetLogos();
       List<DAL.Models.Dto.NewsModelDTO.NewsDTO> news = (List<DAL.Models.Dto.NewsModelDTO.NewsDTO>)ViewBag.News;
   }
       

@if (CultureInfo.CurrentCulture.Name.StartsWith("ar"))
{
    <div dir="rtl" class="w-full flex sm:block xl:flex items-center xl:h-40 xl:px-0 px-4 sm:justify-evenly justify-between bg-gray sm:z-10 z-30 z-999 relative shadow:none sm:shadow xl:shadow-none">
        <div class="logo flex items-center xl:pt-0 sm:pb-0 pb-2 pt-2">
            <a href="@logos.Link1" ><img src="~/images/Logo/@logos.Image1" alt="" class="max-w-full xl:h-40 h-20" /></a>
            <a  href="@logos.Link2"><img src="~/images/Logo/@logos.Image2" alt="" class="max-w-full xl:h-40 h-20 " /></a>
            @*<h2 class="font-bold lg:text-2xl sm:text-lg hidden sm:block leading-7 select-none uppercase">
                <a asp-area="" asp-controller="Home" asp-action="Index">
                    @SharedLocalizer["ARINLANG"]
                </a>
            </h2>
            <h2 class="font-bold text-2xl ml-2 block sm:hidden leading-7 select-none uppercase">
                <a asp-area="" asp-controller="Home" asp-action="Index">@SharedLocalizer["ARINLANG"]</a>
            </h2>*@
        </div>
        <!-- ******************** MOBILE-BURGER ******************** -->
        <div id="burger-wrapper" class="relative sm:hidden overflow-hidden w-8">
            <div class="burger" id="burger-menu">
                <div class="burger__item item-1"></div>
                <div class="burger__item item-2"></div>
            </div>
        </div>
        <!-- ******************** MOBILE-BURGER ******************** -->
        <!-- ******************** MOBILE-NAVIGATION ******************** -->
        <div id="mobile-nav"
             class="sm:hidden fixed top-0 left-0 right-0 bottom-0 bg-white pt-24 px-4 overflow-scroll">
            <h2 class="mobile-menu-label sm:hidden text-2xl font-semibold"  >@SharedLocalizer["Menu"]</h2>

            <div class="mobile-nav-container sm:hidden">
                @foreach (var menu in Model)
                {
                    <div>
                        <h3 class="menu-title" data-parent="@menu.Id"  >@menu.Name</h3>
                        <div class="grid gap-3">
                            @foreach (var child in menu.Childs.OrderBy(o => o.Order))
                            {
                                if (child.Childs.Count() > 0)
                                {
                                    <div class="border-b py-2">
                                        <h4 class="font-semibold text-sm border-l-4 pl-2 mb-2 select-none"  > @child.Name</h4>
                                        <div class="grid gap-3">
                                            @foreach (var subChild in child.Childs.OrderBy(o => o.Order))
                                            {
                                                if (subChild.Link != null)
                                                {
                                                    <a href="@subChild.Link" class="menu-link">@subChild.Name</a>
                                                }
                                                else if (subChild.Pages != null)
                                                {
                                                    <a asp-area="" asp-controller="Page" asp-action="Detail" asp-route-id="@subChild.Pages.Id" class="menu-link"  >@subChild.Name</a>
                                                }
                                                else
                                                {
                                                    <span class="menu-link"  >@subChild.Name</span>
                                                }
                                            }
                                        </div>
                                    </div>
                                }
                                else
                                {
                                    if (child.Link != null)
                                    {
                                        <a href="@child.Link" class="menu-link"  >@child.Name</a>
                                    }
                                    else if (child.Pages != null)
                                    {
                                        <a asp-area="" asp-controller="Page" asp-action="Detail" asp-route-id="@child.Pages.Id" class="menu-link"  >@child.Name</a>
                                    }
                                    else
                                    {
                                        <span class="menu-link"  >@child.Name</span>
                                    }

                                }
                            }
                        </div>
                    </div>
                }
            </div>
        </div>
        <!-- ******************** MOBILE-NAVIGATION ******************** -->
        <nav class="sm:flex items-center xl:justify-between mt-2 dropdown-links xl:h-full xl:pb-0 pb-2 hidden">
            @foreach (var menu in Model.Where(p => p.ParentId == null))
            {
                <a href="#" class="nav-link dropdown" data-child="@menu.Id" @@mouseover="mouseOver(@menu.Id)" style="margin-right:10px;" > @menu.Name</a>
            }
        </nav>
    </div>
    <!-- ******************** DESKTOP-NAVIGATION ******************** -->
    <div dir="rtl" class="bg-white shadow-md -mt-3 lg:py-10 sm:py-6 w-full absolute sm:block hidden"
         id="dropdown-menu">
        <div class="lg:container xl:px-0 px-4 py-3 grid lg:grid-cols-4 sm:grid-cols-3 lg:gap-16 sm:gap-10">
            @foreach (var menu in Model)
            {
                <div v-if="parent == '@menu.Id'">
                    <h3 class="menu-title" data-parent="@menu.Id"  >@menu.Name</h3>
                    <div class="grid gap-3">
                        @foreach (var child in menu.Childs.OrderBy(o => o.Order))
                        {
                            if (child.Childs.Count() > 0)
                            {
                                <div class="border-b py-2">
                                    <h4 class="font-semibold text-sm border-l-4 pl-2 mb-2 select-none"  >@child.Name</h4>
                                    <div class="grid gap-3">
                                        @foreach (var subChild in child.Childs.OrderBy(o => o.Order))
                                        {
                                            if (subChild.Link != null)
                                            {
                                                <a href="@subChild.Link" class="menu-link"  > @subChild.Name</a>
                                            }
                                            else if (subChild.Pages != null)
                                            {
                                                <a asp-area="" asp-controller="Page" asp-action="Detail" asp-route-id="@subChild.Pages.Id" class="menu-link"  >@subChild.Name</a>
                                            }
                                            else
                                            {
                                                <span class="menu-link"  >@subChild.Name</span>
                                            }
                                        }
                                    </div>
                                </div>
                            }
                            else
                            {
                                if (child.Link != null)
                                {
                                    <a href="@child.Link" class="menu-link"  >@child.Name</a>
                                }
                                else if (child.Pages != null)
                                {
                                    <a asp-area="" asp-controller="Page" asp-action="Detail" asp-route-id="@child.Pages.Id" class="menu-link"  >@child.Name</a>
                                }
                                else
                                {
                                    <span class="menu-link"  >@child.Name</span>
                                }
                            }

                        }
                    </div>
                </div>
            }
        </div>
    </div>
    <!-- ******************** DESKTOP-NAVIGATION ******************** -->
}
else
{
    <div class="w-full flex sm:block xl:flex items-center xl:h-40 xl:px-0 px-4 sm:justify-evenly justify-between bg-gray sm:z-10 z-30 z-999 relative shadow:none sm:shadow xl:shadow-none" style="height: 319px; border-bottom: 3px solid #282848;">
        <div class="logo flex items-center xl:pt-0 sm:pb-0 pb-2 pt-2">
            <img src="~/images/Logo/02768c1962454ebab2222fec2b64a804.png" alt="" class="max-w-full xl:h-40 h-20" style="margin-left: 70px;" />
        <div class="relative" style="margin-left: 30px; margin-right: 30px;">
            @if (CultureInfo.CurrentCulture.Name.StartsWith("ar"))
{
    <div dir="rtl" class="lg:py-0 sm:py-4">
        <div class="xl:container sm:px-4 lg:p-24">
            <div class="md:p-16 px-4 py-10 w-auto" style="margin: auto; width: 830px; padding-left: 38px;">
                <h2 class="font-bold text-2xl md:text-3xl text-center text-primary font-roboto" style="margin-left: 18px;">
                    @SharedLocalizer["SEARCH BY WORDS AND PHRASEBOOKS"]
                </h2>
                @*<h3 class="text-center text-lg mt-2 font-roboto sm:block hidden">
                        и будьте в курсе всех новостей и событий Союза промышленников и предпринимателей
                        Туркменистана. Все релизы будут своевременно отправляться на адрес указанный Вами.
                    </h3>*@
                <form asp-area="" asp-controller="Home" asp-action="Subscribe">
                    <div class="relative px-4 mt-10 sm:bg-gray-100 rounded-sm overflow-hidden grid sm:block gap-y-2">
                        <input type="email" style="margin-right: 20%;"
                               name="email"
                               placeholder="@SharedLocalizer["Enter a word or phrase"]"
                               class="sm:w-9/10 bg-transparent p-4 outline-none rounded sm:rounded-none" style="border-radius: 9px; border: 2px solid black" required />
                        <button type="submit"
                                class="uppercase rounded sm:rounded-none w-full sm:w-auto h-full text-white" style="width: 140px; height: 50px; cursor: pointer; border-radius: 8px; background-color: #282848; padding: 10px; margin-left: 25px;">
                            <span>@SharedLocalizer["Search"]</span>
                        </button>
                    </div>

                </form>
                <hr />
            </div>
        </div>
    </div>
}
else
{
    <div class="lg:py-0 sm:py-4">
        <div class="xl:container sm:px-4  lg:p-24">
            <div class=" px-4 py-10 w-auto" style="margin: auto; width: 830px; padding-left: 38px;">
                <h2 class="font-bold text-2xl md:text-2xl text-left text-primary font-roboto" style="margin-left: 18px;">
                    @SharedLocalizer["SEARCH BY WORDS AND PHRASEBOOKS"]
                </h2>
                @*<h3 class="text-center text-lg mt-2 font-roboto sm:block hidden">
                        и будьте в курсе всех новостей и событий Союза промышленников и предпринимателей
                        Туркменистана. Все релизы будут своевременно отправляться на адрес указанный Вами.
                    </h3>*@
                <form asp-area="" asp-controller="Home" asp-action="Subscribe">
                    <div class="relative px-4 mt-10 rounded-sm overflow-hidden flex sm:block">
                        <input type="email"
                               name="email"
                               placeholder="@SharedLocalizer["Enter a word or phrase"]"
                               class="sm:w-9/12 bg-white p-4 outline-none rounded sm:rounded-none" style="border-radius: 9px; border: 2px solid black" required />
                        <button type="submit"
                                class="uppercase rounded sm:rounded-none w-full sm:w-auto h-full text-white" style="width: 140px; height: 50px; cursor: pointer; border-radius: 8px; background-color: #282848; padding: 10px; margin-left: 25px;">
                            <span>@SharedLocalizer["Search"]</span>
                        </button>
                    </div>
                </form>
                <hr />
            </div>
        </div>
    </div>
}
            @* <div class="xl:container px-4 xl:px-0 relative overflow-hidden text-center"  style="background-color: #fbfbfb;">
                @if (CultureInfo.CurrentCulture.Name.StartsWith("ar"))
                {
                    <h2 dir="rtl" class="font-semibold md:mb-8 mb-6 text-2xl md:text-3xl">
                        @SharedLocalizer["Latest News"]
                    </h2>
                }
                else
                {
                    <h2 class="font-semibold md:mb-8 mb-6 text-2xl md:text-3xl">
                        @SharedLocalizer["Latest News"]
                    </h2>
                }
                <div class="products-swiper-container swiper-container">
                    <div class="swiper-wrapper pb-16 justify-evenly">
                        @foreach (var item in news)
                        {
                            <a asp-area="" asp-controller="News" asp-action="Details" asp-route-id="@item.Id" class="swiper-slide">
                                <div class="products-slider-card">
                                    <div class="absolute w-full top-0 left-0 right-0 py-1 px-2 sm:p-3 z-10"
                                         style="background: rgba(0, 0, 0, 0.5)">
                                        @if (CultureInfo.CurrentCulture.Name.StartsWith("ar"))
                                        {
                                            <span dir="rtl" class="text-white sm:text-lg font-semibold text-base block w-full">
                                                @item.Name
                                            </span>
                                        }
                                        else
                                        {
                                            <span class="text-white sm:text-lg font-semibold text-base block w-full">
                                                @item.Name
                                            </span>
                                        }
                                    </div>
                                    <img src="~/images/News/@item.Image" alt="" class="object-cover w-full" />
                                </div>
                            </a>
                        }
                    </div>

                    <!-- Slider main container -->
                </div>
            </div> *@
        </div>
            <img src="~/images/Logo/61097513bc084caf8d47cc6492401d95.png" alt="" class="max-w-full xl:h-40 h-20" />
            @* <h2 class="font-bold lg:text-2xl sm:text-md hidden sm:block leading-7 select-none uppercase">
                <a asp-area="" asp-controller="Home" asp-action="Index">
                    @SharedLocalizer["HOME"]
                </a>
            </h2> *@
            @*<h2 class="font-bold text-2xl ml-2 block sm:hidden leading-7 select-none uppercase">
            <a asp-area="" asp-controller="Home" asp-action="Index">@SharedLocalizer["ARINLANG"]</a>
        </h2>*@
        </div>
        <!-- ******************** MOBILE-BURGER ******************** -->
        <div id="burger-wrapper" class="relative sm:hidden overflow-hidden w-8">
            <div class="burger" id="burger-menu">
                <div class="burger__item item-1"></div>
                <div class="burger__item item-2"></div>
            </div>
        </div>
        <!-- ******************** MOBILE-BURGER ******************** -->
        <!-- ******************** MOBILE-NAVIGATION ******************** -->
        <div id="mobile-nav"
             class="sm:hidden fixed top-0 left-0 right-0 bottom-0 bg-white pt-24 px-4 overflow-scroll">
            <h2 class="mobile-menu-label sm:hidden text-2xl font-semibold">Меню</h2>

            <div class="mobile-nav-container sm:hidden">
                @foreach (var menu in Model)
                {
                    <div>
                        <h3 class="menu-title" data-parent="@menu.Id">@menu.Name</h3>
                        <div class="grid gap-3">
                            @foreach (var child in menu.Childs.OrderBy(o => o.Order))
                            {
                                if (child.Childs.Count() > 0)
                                {
                                    <div class="border-b py-2">
                                        <h4 class="font-semibold text-sm border-l-4 pl-2 mb-2 select-none">@child.Name</h4>
                                        <div class="grid gap-3">
                                            @foreach (var subChild in child.Childs.OrderBy(o => o.Order))
                                            {
                                                if (subChild.Link != null)
                                                {
                                                    <a href="@subChild.Link" class="menu-link">@subChild.Name</a>
                                                }
                                                else if (subChild.Pages != null)
                                                {
                                                    <a asp-area="" asp-controller="Page" asp-action="Detail" asp-route-id="@subChild.Pages.Id" class="menu-link">@subChild.Name</a>
                                                }
                                                else
                                                {
                                                    <span class="menu-link">@subChild.Name</span>
                                                }
                                            }
                                        </div>
                                    </div>
                                }
                                else
                                {
                                    if (child.Link != null)
                                    {
                                        <a href="@child.Link" class="menu-link">@child.Name</a>
                                    }
                                    else if (child.Pages != null)
                                    {
                                        <a asp-area="" asp-controller="Page" asp-action="Detail" asp-route-id="@child.Pages.Id" class="menu-link">@child.Name</a>
                                    }
                                    else
                                    {
                                        <span class="menu-link">@child.Name</span>
                                    }

                                }
                            }
                        </div>
                    </div>
                }
            </div>
        </div>
        <!-- ******************** MOBILE-NAVIGATION ******************** -->
        <nav class="sm:flex items-center xl:justify-between mt-2 dropdown-links xl:h-full xl:pb-0 pb-2 hidden">
            @foreach (var menu in Model.Where(p => p.ParentId == null))
            {
                <a href="#" class="nav-link dropdown" data-child="@menu.Id" @@mouseover="mouseOver(@menu.Id)"> @menu.Name</a>
            }
        </nav>
    </div>
    <!-- ******************** DESKTOP-NAVIGATION ******************** -->
    <div class="bg-white shadow-md -mt-3 lg:py-10 sm:py-6 w-full absolute sm:block hidden"
         id="dropdown-menu">
        <div class="lg:container xl:px-0 px-4 py-3 grid lg:grid-cols-4 sm:grid-cols-3 lg:gap-16 sm:gap-10">
            @foreach (var menu in Model)
            {
                <div v-if="parent == '@menu.Id'">
                    <h3 class="menu-title" data-parent="@menu.Id">@menu.Name</h3>
                    <div class="grid gap-3">
                        @foreach (var child in menu.Childs.OrderBy(o => o.Order))
                        {
                            if (child.Childs.Count() > 0)
                            {
                                <div class="border-b py-2">
                                    <h4 class="font-semibold text-sm border-l-4 pl-2 mb-2 select-none">@child.Name</h4>
                                    <div class="grid gap-3">
                                        @foreach (var subChild in child.Childs.OrderBy(o => o.Order))
                                        {
                                            if (subChild.Link != null)
                                            {
                                                <a href="@subChild.Link" class="menu-link">@subChild.Name</a>
                                            }
                                            else if (subChild.Pages != null)
                                            {
                                                <a asp-area="" asp-controller="Page" asp-action="Detail" asp-route-id="@subChild.Pages.Id" class="menu-link">@subChild.Name</a>
                                            }
                                            else
                                            {
                                                <span class="menu-link">@subChild.Name</span>
                                            }
                                        }
                                    </div>
                                </div>
                            }
                            else
                            {
                                if (child.Link != null)
                                {
                                    <a href="@child.Link" class="menu-link">@child.Name</a>
                                }
                                else if (child.Pages != null)
                                {
                                    <a asp-area="" asp-controller="Page" asp-action="Detail" asp-route-id="@child.Pages.Id" class="menu-link">@child.Name</a>
                                }
                                else
                                {
                                    <span class="menu-link">@child.Name</span>
                                }
                            }

                        }
                    </div>
                </div>
            }
        </div>
    </div>
    <!-- ******************** DESKTOP-NAVIGATION ******************** -->
}